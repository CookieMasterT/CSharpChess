@page "/chessboard"
@using game = CSharpChess.GameLogic
@using constants = CSharpChess.ChessNotation
@using chessBoard = CSharpChess.ChessBoard;
<h3>ChessBoard</h3>

<table>
    @for (int i = 0; i < 10; i++)
    {
        <tr>
            @for (int k = 0; k < 10; k++)
            {
                @if (k != 0 && i != 0 && i != 9 && k != 9)
                {
                    int x = k - 1;
                    int y = 8 - i;

                    <td class="tile-@(chessBoard.Board[x, y].SquareColor ? "w" : "b")" ">
                        @if (chessBoard.Board[x, y].ContentImageFileName != "N")
                        {
                            <img src="/pieces/@chessBoard.Board[x, y].ContentImageFileName" />
                        }
                    </td>
                }
                else
                {
                    <td class="tile-edge">
                        @if (i != 0 && i != 9)
                        {
                            @constants.LegalRankNames[i - 1]
                        }
                        else
                        {
                            if (k != 0 && k != 9)
                            {
                                @constants.LegalFileNames[k - 1]
                            }
                        }
                    </td>
                }
            }
        </tr>
    }
</table>

@code {
    protected override void OnInitialized()
    {
        game.SetupBoard();
    }
}
